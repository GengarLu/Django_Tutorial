{% extends 'main.html' %}

{% block content %}
<!-- Main Section -->
<main class="formPage my-xl">
    <div class="content-box">
        <div class="formWrapper">
            <!-- recipient在views.py的createMessage() -->
            <a class="backButton" href="{% url 'user-profile' recipient.id %}">
                <svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd">
                    <path d="M20 .755l-14.374 11.245 14.374 11.219-.619.781-15.381-12 15.391-12 .609.755z" />
                </svg>
            </a>
            <br>

            <form class="form" method="POST" action="">

                {% csrf_token %}

                <!-- name和email只有在用戶登出時才會出現 -->
                {% if request.user.is_authenticated == False %}
                    <div class="form__field">
                        <label for="formInput#text">{{form.name.label}}</label>
                        {{form.name}}
                    </div>

                    <div class="form__field">
                        <label for="formInput#text">{{form.email.label}}</label>
                        {{form.email}}
                    </div>
                {% endif %}

                <!-- subject和body登入和登出都會出現 -->
                <div class="form__field">
                    <label for="formInput#text">{{form.subject.label}}</label>
                    {{form.subject}}
                </div>
                
                <div class="form__field">
                    <label for="formInput#text">{{form.body.label}}</label>
                    {{form.body}}
                </div>

                <input class="btn btn--sub btn--lg  my-md" type="submit" value="Submit" />
            </form>
        </div>
    </div>
</main>
{% endblock content %}